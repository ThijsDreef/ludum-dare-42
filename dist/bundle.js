!function(t){var e=this.webpackHotUpdate;this.webpackHotUpdate=function(t,i){!function(t,e){if(!y[t]||!b[t])return;for(var i in b[t]=!1,e)Object.prototype.hasOwnProperty.call(e,i)&&(p[i]=e[i]);0==--g&&0===m&&T()}(t,i),e&&e(t,i)};var i,n=!0,r="7750957751768b6140a0",s=1e4,o={},a=[],h=[];function c(t){var e=S[t];if(!e)return A;var n=function(n){return e.hot.active?(S[n]?S[n].parents.indexOf(t)<0&&S[n].parents.push(t):(a=[t],i=n),e.children.indexOf(n)<0&&e.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+t),a=[]),A(n)},r=function(t){return{configurable:!0,enumerable:!0,get:function(){return A[t]},set:function(e){A[t]=e}}};for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&"e"!==s&&Object.defineProperty(n,s,r(s));return n.e=function(t){return"ready"===l&&f("prepare"),m++,A.e(t).then(e,function(t){throw e(),t});function e(){m--,"prepare"===l&&(v[t]||x(t),0===m&&0===g&&T())}},n}var u=[],l="idle";function f(t){l=t;for(var e=0;e<u.length;e++)u[e].call(null,t)}var d,p,_,g=0,m=0,v={},b={},y={};function w(t){return+t+""===t?+t:t}function E(t){if("idle"!==l)throw new Error("check() is only allowed in idle status");return n=t,f("check"),function(t){return t=t||1e4,new Promise(function(e,i){if("undefined"==typeof XMLHttpRequest)return i(new Error("No browser support"));try{var n=new XMLHttpRequest,s=A.p+""+r+".hot-update.json";n.open("GET",s,!0),n.timeout=t,n.send(null)}catch(t){return i(t)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)i(new Error("Manifest request to "+s+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)i(new Error("Manifest request to "+s+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(t){return void i(t)}e(t)}}})}(s).then(function(t){if(!t)return f("idle"),null;b={},v={},y=t.c,_=t.h,f("prepare");var e=new Promise(function(t,e){d={resolve:t,reject:e}});p={};return x(0),"prepare"===l&&0===m&&0===g&&T(),e})}function x(t){y[t]?(b[t]=!0,g++,function(t){var e=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.src=A.p+""+t+"."+r+".hot-update.js",e.appendChild(i)}(t)):v[t]=!0}function T(){f("ready");var t=d;if(d=null,t)if(n)Promise.resolve().then(function(){return P(n)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var i in p)Object.prototype.hasOwnProperty.call(p,i)&&e.push(w(i));t.resolve(e)}}function P(e){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var i,n,s,h,c;function u(t){for(var e=[t],i={},n=e.slice().map(function(t){return{chain:[t],id:t}});n.length>0;){var r=n.pop(),s=r.id,o=r.chain;if((h=S[s])&&!h.hot._selfAccepted){if(h.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:s};if(h.hot._main)return{type:"unaccepted",chain:o,moduleId:s};for(var a=0;a<h.parents.length;a++){var c=h.parents[a],u=S[c];if(u){if(u.hot._declinedDependencies[s])return{type:"declined",chain:o.concat([c]),moduleId:s,parentId:c};e.indexOf(c)>=0||(u.hot._acceptedDependencies[s]?(i[c]||(i[c]=[]),d(i[c],[s])):(delete i[c],e.push(c),n.push({chain:o.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];t.indexOf(n)<0&&t.push(n)}}e=e||{};var g={},m=[],v={},b=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var E in p)if(Object.prototype.hasOwnProperty.call(p,E)){var x;c=w(E);var T=!1,P=!1,R=!1,M="";switch((x=p[E]?u(c):{type:"disposed",moduleId:E}).chain&&(M="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":e.onDeclined&&e.onDeclined(x),e.ignoreDeclined||(T=new Error("Aborted because of self decline: "+x.moduleId+M));break;case"declined":e.onDeclined&&e.onDeclined(x),e.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+M));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(x),e.ignoreUnaccepted||(T=new Error("Aborted because "+c+" is not accepted"+M));break;case"accepted":e.onAccepted&&e.onAccepted(x),P=!0;break;case"disposed":e.onDisposed&&e.onDisposed(x),R=!0;break;default:throw new Error("Unexception type "+x.type)}if(T)return f("abort"),Promise.reject(T);if(P)for(c in v[c]=p[c],d(m,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,c)&&(g[c]||(g[c]=[]),d(g[c],x.outdatedDependencies[c]));R&&(d(m,[x.moduleId]),v[c]=b)}var D,F=[];for(n=0;n<m.length;n++)c=m[n],S[c]&&S[c].hot._selfAccepted&&F.push({module:c,errorHandler:S[c].hot._selfAccepted});f("dispose"),Object.keys(y).forEach(function(t){!1===y[t]&&function(t){delete installedChunks[t]}(t)});for(var O,B,L=m.slice();L.length>0;)if(c=L.pop(),h=S[c]){var I={},C=h.hot._disposeHandlers;for(s=0;s<C.length;s++)(i=C[s])(I);for(o[c]=I,h.hot.active=!1,delete S[c],delete g[c],s=0;s<h.children.length;s++){var U=S[h.children[s]];U&&((D=U.parents.indexOf(c))>=0&&U.parents.splice(D,1))}}for(c in g)if(Object.prototype.hasOwnProperty.call(g,c)&&(h=S[c]))for(B=g[c],s=0;s<B.length;s++)O=B[s],(D=h.children.indexOf(O))>=0&&h.children.splice(D,1);for(c in f("apply"),r=_,v)Object.prototype.hasOwnProperty.call(v,c)&&(t[c]=v[c]);var j=null;for(c in g)if(Object.prototype.hasOwnProperty.call(g,c)&&(h=S[c])){B=g[c];var H=[];for(n=0;n<B.length;n++)if(O=B[n],i=h.hot._acceptedDependencies[O]){if(H.indexOf(i)>=0)continue;H.push(i)}for(n=0;n<H.length;n++){i=H[n];try{i(B)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:c,dependencyId:B[n],error:t}),e.ignoreErrored||j||(j=t)}}}for(n=0;n<F.length;n++){var N=F[n];c=N.module,a=[c];try{A(c)}catch(t){if("function"==typeof N.errorHandler)try{N.errorHandler(t)}catch(i){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:i,orginalError:t,originalError:t}),e.ignoreErrored||j||(j=i),j||(j=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:c,error:t}),e.ignoreErrored||j||(j=t)}}return j?(f("fail"),Promise.reject(j)):(f("idle"),new Promise(function(t){t(m)}))}var S={};function A(e){if(S[e])return S[e].exports;var n=S[e]={i:e,l:!1,exports:{},hot:function(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(t,i){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var n=0;n<t.length;n++)e._acceptedDependencies[t[n]]=i||function(){};else e._acceptedDependencies[t]=i||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._declinedDependencies[t[i]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var i=e._disposeHandlers.indexOf(t);i>=0&&e._disposeHandlers.splice(i,1)},check:E,apply:P,status:function(t){if(!t)return l;u.push(t)},addStatusHandler:function(t){u.push(t)},removeStatusHandler:function(t){var e=u.indexOf(t);e>=0&&u.splice(e,1)},data:o[t]};return i=void 0,e}(e),parents:(h=a,a=[],h),children:[]};return t[e].call(n.exports,n,n.exports,c(e)),n.l=!0,n.exports}A.m=t,A.c=S,A.d=function(t,e,i){A.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},A.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="",A.h=function(){return r},c(6)(A.s=6)}([function(t,e,i){t.exports={Program:i(9),Texture:i(1),Fbo:i(10),ArrayBuffer:i(11),IndexBuffer:i(12),RenderBuffer:i(2),Sampler:i(13)}},function(t,e){var i=0,n=3553;function r(t,e,i){return 9728|+t|+e<<8|+(e&&i)<<1}function s(t,e,r,s){this._uid=i++,this.gl=t,this.id=t.createTexture(),this.width=0,this.height=0,this.setFormat(e,r,s),t.bindTexture(n,this.id),this.setFilter(!0)}s.prototype={setFormat:function(t,e,i){this.format=t||this.gl.RGB,this.internal=i||this.format,this.type=e||this.gl.UNSIGNED_BYTE},fromImage:function(t){var e=this.gl;this.width=t.width,this.height=t.height,e.bindTexture(n,this.id),e.texImage2D(n,0,this.internal,this.format,this.type,t)},fromData:function(t,e,i){var r=this.gl;this.width=t,this.height=e,i=i||null,r.bindTexture(n,this.id),r.texImage2D(n,0,this.internal,t,e,0,this.format,this.type,i)},bind:function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(n,this.id)},dispose:function(){this.gl.deleteTexture(this.id),this.id=null,this.gl=null},setFilter:function(t,e,i){var s=this.gl,o=r(!!t,!!e,!!i);s.texParameteri(n,s.TEXTURE_MAG_FILTER,r(!!t,!1,!1)),s.texParameteri(n,s.TEXTURE_MIN_FILTER,o)},repeat:function(){this.wrap(this.gl.REPEAT)},clamp:function(){this.wrap(this.gl.CLAMP_TO_EDGE)},mirror:function(){this.wrap(this.gl.MIRRORED_REPEAT)},wrap:function(t){var e=this.gl;e.texParameteri(n,e.TEXTURE_WRAP_S,t),e.texParameteri(n,e.TEXTURE_WRAP_T,t)}},t.exports=s},function(t,e){var i=0;function n(t,e){this._uid=i++,this.gl=t,this.id=t.createRenderbuffer(),this.width=0,this.height=0,this.format=e||t.DEPTH_COMPONENT16,this._valid=!1,this._storage()}n.prototype={resize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this._valid=!1)},allocate:function(){!this._valid&&this.width>0&&this.height>0&&(this._storage(),this._valid=!0)},bind:function(){this.gl.bindRenderbuffer(36161,this.id)},dispose:function(){this.gl.deleteRenderbuffer(this.id),this.id=null,this.gl=null},_storage:function(){var t=this.gl;t.bindRenderbuffer(36161,this.id),t.renderbufferStorage(36161,this.format,this.width,this.height),t.bindRenderbuffer(36161,null)}},t.exports=n},function(t,e){t.exports={getComponentSize:function(t){switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:return 0}},Drawable:function(t){t.drawPoints=function(t,e){this.draw(0,t,e)},t.drawLines=function(t,e){this.draw(1,t,e)},t.drawLineLoop=function(t,e){this.draw(2,t,e)},t.drawLineStrip=function(t,e){this.draw(3,t,e)},t.drawTriangles=function(t,e){this.draw(4,t,e)},t.drawTriangleStrip=function(t,e){this.draw(5,t,e)},t.drawTriangleFan=function(t,e){this.draw(6,t,e)}}}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,i){"use strict";e.a=class{constructor(){this._display=document.querySelector(".game-score")}calculateScore(t,e){let i=0;for(let n=0;n<t.length;n++)i+=this._distance(e[t[n].one],e[t[n].two]);return Math.round(i)}_distance(t,e){let i=0;for(let n=0;n<t.length;n++)i+=Math.abs(t[n]-e[n]);return Math.sqrt(i)}displayScore(t){this._display.textContent=t}}},function(t,e,i){i(7),t.exports=i(54)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),r=i(53);const s=document.querySelector(".game-advance-button"),o=document.querySelector(".game-advance-button__text"),a=document.querySelector(".game-canvas"),h=a.getContext("webgl",{preserveDrawingBuffer:!0}),c=new r.a,u=document.querySelector(".game-timer"),l=document.querySelector(".game-explanation");let f=!1;s.addEventListener("click",()=>{f=!0}),a.width=window.innerWidth,a.height=window.innerHeight,h.clearColor(0,0,0,1),h.viewport(0,0,a.width,a.height),h.enable(h.DEPTH_TEST);let d=0;const p=new n.a(h,a.width,a.height);function _(){const t=c.getTimeLeft();u.textContent=t,t<=0?p.getCurrentScore()>10*d*d+50?(d++,s.style.display="block",o.textContent="next level",p.stop(),requestAnimationFrame(g)):v():(p.update(),requestAnimationFrame(_))}function g(){p.update(),f?(p.start(d),c.startCountDown(30),s.style.display="none",f=!1,requestAnimationFrame(_)):requestAnimationFrame(g)}function m(){p.update(),f?(l.style.display="none",d=0,p.start(d),c.startCountDown(30),f=!1,s.style.display="none",requestAnimationFrame(_)):requestAnimationFrame(m)}function v(){p.stop(),o.textContent="restart",s.style.display="block",requestAnimationFrame(m)}p.start(d),c.startCountDown(30),v()},function(t,e,i){"use strict";var n=i(0),r=i.n(n),s=i(14),o=i.n(s),a=i(43),h=i(44),c=i(45),u=i(46),l=i(47),f=(i(5),i(48)),d=i(49),p=i.n(d),_=i(50),g=i.n(_),m=i(51),v=i.n(m),b=i(52),y=i.n(b);e.a=class{constructor(t,e,i){this._width=e,this._height=i,this._gl=t,this._score=0,this._cubes=[],this._cubes.push(new h.a(t,[15,15,15],[1,0,0])),this._cubes.push(new h.a(t,[-15,15,15],[1,1,0])),this._cubes.push(new h.a(t,[15,-15,15],[0,1,1])),this._cubes.push(new h.a(t,[15,15,-15],[0,1,0])),this._cubes.push(new h.a(t,[-15,15,-15],[0,1,1])),this._cubes.push(new h.a(t,[-15,-15,15],[1,.5,.5])),this._cubes.push(new h.a(t,[15,-15,-15],[0,1,.5])),this._cubes.push(new h.a(t,[-15,-15,-15],[.2,0,.5])),this._renderer=new a.a,this._cameraObject=new c.a(i/e),this._camera=o.a.create(),this._aspect=e/i,this.update=this.update.bind(this);const n=new r.a.Program(t,p.a,g.a),s=new r.a.Program(t,v.a,y.a);this._renderer.addShader(n,"points"),this._renderer.addShader(s,"cube")}getCurrentScore(){return this._score+this._cd._s}start(t){let e=0;this._cd&&(e=this._cd._s),this._stop=!1,this._pointCloud=new f.a(null,12+2*t,[10,10,10],this._gl),this._lines=new l.a(this._gl,[1,1,0]),this._cd=new u.a(this._lines,this._pointCloud),this._cd._s=e,this._renderer.clearObjects(),this._renderer.addObject(this._pointCloud),this._renderer.addObject(this._lines);for(let t=0;t<this._cubes.length;t++)this._renderer.addObject(this._cubes[t]);this.update()}stop(){this._stop=!0}pause(){}update(){this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT);const t=this._cameraObject.getMousePos();o.a.perspective(this._camera,45,this._aspect,.01,150),o.a.translate(this._camera,this._camera,[0,0,this._cameraObject.getZoom()]),o.a.rotateY(this._camera,this._camera,this._cameraObject.getRotation()[1]),o.a.rotateX(this._camera,this._camera,this._cameraObject.getRotation()[0]),this._cameraObject.lastFrameUp()&&!this._stop&&this._cd.checkSelect({x:t.x/this._width,y:t.y/this._height},this._camera),this._renderer.setCamera(this._camera),this._renderer.render()}}},function(t,e){var i=0;function n(t,e,n,r){this.gl=t,this.program=t.createProgram(),this.vShader=t.createShader(t.VERTEX_SHADER),this.fShader=t.createShader(t.FRAGMENT_SHADER),this.dyns=[],this.ready=!1,t.attachShader(this.program,this.vShader),t.attachShader(this.program,this.fShader),this._uid=0|i++,this._cuid=0|i++,void 0!==e&&void 0!==n&&this.compile(e,n,r)}function r(t){console.warn(t)}n.debug=!0,n.prototype={use:function(){this.ready||this._grabParameters(),this.gl.useProgram(this.program)},compile:function(t,e,s){this.ready=!1,s=void 0===s?"":s+"\n";var o=this.gl;if(!a(o,this.fShader,s+e)||!a(o,this.vShader,s+t))return!1;if(o.linkProgram(this.program),n.debug&&!o.getProgramParameter(this.program,o.LINK_STATUS))return r(o.getProgramInfoLog(this.program)),!1;for(;this.dyns.length>0;)delete this[this.dyns.pop()];return this._cuid=0|i++,!0},dispose:function(){null!==this.gl&&(this.gl.deleteProgram(this.program),this.gl.deleteShader(this.fShader),this.gl.deleteShader(this.vShader),this.gl=null)},_grabParameters:function(){for(var t=this.gl,e=this.program,i={texIndex:0,ublockIndex:0},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r<n;++r){var s=t.getActiveUniform(e,r);if(null!==s){var o=s.name,a=o.indexOf("[");a>=0&&(o=o.substring(0,a));var h=t.getUniformLocation(e,s.name);null!==h&&(this[o]=u(s.type,h,t,i),this.dyns.push(o))}else t.getError()}for(var c=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),d=0;d<c;++d){var p=t.getActiveAttrib(e,d).name,_=t.getAttribLocation(e,p);this[p]=f(_),this.dyns.push(p)}if(void 0!==t.ACTIVE_UNIFORM_BLOCKS)for(var g=t.getProgramParameter(e,t.ACTIVE_UNIFORM_BLOCKS),m=0;m<g;++m){var v=t.getActiveUniformBlockName(e,m);this[v]=l(m,t,i),this.dyns.push(v)}this.ready=!0}},n.prototype.bind=n.prototype.use;var s=["","   ","  "," ",""];function o(t,e){return s[String(e+1).length]+(e+1)+": "+t}function a(t,e,i){return t.shaderSource(e,i),t.compileShader(e),!(n.debug&&!t.getShaderParameter(e,t.COMPILE_STATUS))||(r(t.getShaderInfoLog(e)),r(function(t){return t.split("\n").map(o).join("\n")}(i)),!1)}var h={};function c(t){return t=String(t),"uniform"+h[t]}function u(t,e,i,n){switch(t){case i.FLOAT_MAT2:case i.FLOAT_MAT3:case i.FLOAT_MAT4:return function(t,e,i,n){var r=c(t);return function(){if(arguments.length>0&&void 0!==arguments[0].length){var t=arguments.length>1&&!!arguments[1];i[r+"v"](e,t,arguments[0])}return e}}(t,e,i);case i.SAMPLER_2D:case i.SAMPLER_CUBE:case 35682:case 35679:return function(t,e,i,n){var r=n.texIndex++;return function(){return 1===arguments.length&&(void 0!==arguments[0].bind?(arguments[0].bind(r),i.uniform1i(e,r)):i.uniform1i(e,arguments[0])),e}}(0,e,i,n);default:return function(t,e,i,n){var r=c(t);return function(){return 1===arguments.length&&void 0!==arguments[0].length?i[r+"v"](e,arguments[0]):arguments.length>0&&i[r].apply(i,Array.prototype.concat.apply(e,arguments)),e}}(t,e,i)}}function l(t,e,i){var n=i.ublockIndex++;return function(){return 1===arguments.length&&(arguments[0]instanceof WebGLBuffer?(e.uniformBlockBinding(this.program,t,n),e.bindBufferBase(e.UNIFORM_BUFFER,n,arguments[0])):e.uniformBlockBinding(this.program,t,arguments[0])),t}}function f(t){return function(){return t}}h[5126]="1f",h[35664]="2f",h[35665]="3f",h[35666]="4f",h[35670]=h[5124]=h[35678]=h[35680]="1i",h[35671]=h[35667]="2i",h[35672]=h[35668]="3i",h[35673]=h[35669]="4i",h[35674]="Matrix2f",h[35675]="Matrix3f",h[35676]="Matrix4f",t.exports=n},function(t,e,i){var n=i(1),r=i(2);function s(t){this.target=t,this.level=0,this._isTexture=t.id instanceof WebGLTexture}function o(t){this.gl=t,this.width=0,this.height=0,this.fbo=t.createFramebuffer(),this.bind(),this.attachments={},this.attachmentsList=[]}function a(t,e){return t|e<<1}s.prototype={isTexture:function(){return this._isTexture},_resize:function(t,e){t>0&&e>0&&(this._isTexture?this.target.fromData(t,e,null):(this.target.resize(t,e),this.target.allocate()))},_attach:function(t){var e=this.target.gl;this._isTexture?e.framebufferTexture2D(e.FRAMEBUFFER,t,e.TEXTURE_2D,this.target.id,this.level):e.framebufferRenderbuffer(e.FRAMEBUFFER,t,e.RENDERBUFFER,this.target.id)},_detach:function(t){var e=this.target.gl;this._isTexture?e.framebufferTexture2D(e.FRAMEBUFFER,t,e.TEXTURE_2D,null,this.level):e.framebufferRenderbuffer(e.FRAMEBUFFER,t,e.RENDERBUFFER,null)},dispose:function(){this.target.dispose(),this.target=null}},o.prototype={attach:function(t,e){var i=new s(e);return t|=0,this.detach(t),this.attachments[t.toString()]=i,this.attachmentsList.push(i),i._resize(this.width,this.height),i._attach(t),i},detach:function(t){var e=this.attachments[t.toString()];if(void 0!==e){var i=this.attachmentsList.indexOf(e);this.attachmentsList.splice(i,1),e._detach(t)}delete this.attachments[t.toString()]},getAttachment:function(t){var e=this.attachments[t.toString()];return void 0!==e?e:null},getColor:function(t){t|=0;var e=this.getAttachment(36064+t);return e?e.target:null},getDepth:function(){var t=this.getAttachment(36096)||this.getAttachment(36128)||this.getAttachment(33306);return t?t.target:null},attachColor:function(t,e,i){var r=new n(this.gl,t,e,i);return this.attach(36064,r)},attachDepth:function(t,e,i){var s;if(t=void 0===t||!!t,e=!!e,i=!!i&&t){var o=function(t,e){if(e)return{format:34041,type:34042,internal:t.DEPTH24_STENCIL8};return{format:6402,type:5125,internal:t.DEPTH_COMPONENT24}}(this.gl,e);s=new n(this.gl,o.format,o.type,o.internal)}else s=new r(this.gl,function(t,e){switch(a(t,e)){case 1:return 33189;case 2:return 36168;case 3:return 34041;default:return 0}}(t,e));return this.attach(function(t,e){switch(a(t,e)){case 1:return 36096;case 2:return 36128;case 3:return 33306;default:return 0}}(t,e),s)},resize:function(t,e){this.width===t&&this.height===e||(this.width=0|t,this.height=0|e,this._allocate())},bind:function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.fbo)},clear:function(){this.gl.clear(17664)},defaultViewport:function(){this.gl.viewport(0,0,this.width,this.height)},isValid:function(){var t=this.gl;return t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE},dispose:function(){this.gl.deleteFramebuffer(this.fbo);for(var t=0;t<this.attachmentsList.length;t++)this.attachmentsList[t].dispose();this.attachmentsList=null,this.attachments=null,this.valid=!1,this.fbo=null,this.gl=null},_allocate:function(){for(var t=0;t<this.attachmentsList.length;t++)this.attachmentsList[t]._resize(this.width,this.height)}},t.exports=o},function(t,e,i){var n=i(3),r=34962;function s(t,e,i){this.gl=t,this.usage=i||t.STATIC_DRAW,this.buffer=t.createBuffer(),this.attribs=[],this.stride=0,this.byteLength=0,this.length=0,e&&this.data(e)}s.prototype={bind:function(){this.gl.bindBuffer(r,this.buffer)},attrib:function(t,e,i,r){return this.attribs.push({name:t,type:0|i,size:0|e,normalize:!!r,offset:this.stride}),this.stride+=n.getComponentSize(i)*e,this._computeLength(),this},data:function(t){var e=this.gl;e.bindBuffer(r,this.buffer),e.bufferData(r,t,this.usage),e.bindBuffer(r,null),this.byteLength=void 0===t.byteLength?t:t.byteLength,this._computeLength()},subData:function(t,e){var i=this.gl;i.bindBuffer(r,this.buffer),i.bufferSubData(r,e,t),i.bindBuffer(r,null)},attribPointer:function(t){var e=this.gl;e.bindBuffer(r,this.buffer);for(var i=0;i<this.attribs.length;i++){var n=this.attribs[i];if(void 0!==t[n.name]){var s=t[n.name]();e.enableVertexAttribArray(s),e.vertexAttribPointer(s,n.size,n.type,n.normalize,this.stride,n.offset)}}},draw:function(t,e,i){e=void 0===e?this.length:e,this.gl.drawArrays(t,i,0|e)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},_computeLength:function(){this.stride>0&&(this.length=this.byteLength/this.stride)}},n.Drawable(s.prototype),t.exports=s},function(t,e,i){var n=i(3),r=34963;function s(t,e,i,n){this.gl=t,this.buffer=t.createBuffer(),this.usage=n||t.STATIC_DRAW,this.type=0,this.typeSize=0,this.size=0,this.setType(e||t.UNSIGNED_SHORT),i&&this.data(i)}s.prototype={bind:function(){this.gl.bindBuffer(r,this.buffer)},setType:function(t){this.type=t,this.typeSize=n.getComponentSize(t)},data:function(t){var e=this.gl;e.bindBuffer(r,this.buffer),e.bufferData(r,t,this.usage),e.bindBuffer(r,null),this.size=void 0===t.byteLength?t:t.byteLength},subData:function(t,e){var i=this.gl;i.bindBuffer(r,this.buffer),i.bufferSubData(r,e,t),i.bindBuffer(r,null)},dispose:function(){this.gl.deleteBuffer(this.buffer),this.buffer=null,this.gl=null},draw:function(t,e,i){e=void 0===e?this.size/this.typeSize:e,this.gl.drawElements(t,e,this.type,0|i)}},n.Drawable(s.prototype),t.exports=s},function(t,e){var i=0;function n(t,e,i){return 9728|+t|+e<<8|+(e&&i)<<1}function r(t){this._uid=i++,this.gl=t,this.id=t.createSampler(),this.setFilter(!0)}r.prototype={bind:function(t){this.gl.bindSampler(t,this.id)},dispose:function(){this.gl.deleteSampler(this.id),this.id=null,this.gl=null},setFilter:function(t,e,i){var r=this.gl,s=n(!!t,!!e,!!i);r.samplerParameteri(this.id,r.TEXTURE_MAG_FILTER,n(!!t,!1,!1)),r.samplerParameteri(this.id,r.TEXTURE_MIN_FILTER,s)},repeat:function(){this.wrap(this.gl.REPEAT)},clamp:function(){this.wrap(this.gl.CLAMP_TO_EDGE)},mirror:function(){this.wrap(this.gl.MIRRORED_REPEAT)},wrap:function(t){var e=this.gl;e.samplerParameteri(this.id,e.TEXTURE_WRAP_S,t),e.samplerParameteri(this.id,e.TEXTURE_WRAP_T,t)}},t.exports=r},function(t,e,i){t.exports={create:i(15),clone:i(16),copy:i(17),identity:i(4),transpose:i(18),invert:i(19),adjoint:i(20),determinant:i(21),multiply:i(22),translate:i(23),scale:i(24),rotate:i(25),rotateX:i(26),rotateY:i(27),rotateZ:i(28),fromRotation:i(29),fromRotationTranslation:i(30),fromScaling:i(31),fromTranslation:i(32),fromXRotation:i(33),fromYRotation:i(34),fromZRotation:i(35),fromQuat:i(36),frustum:i(37),perspective:i(38),perspectiveFromFieldOfView:i(39),ortho:i(40),lookAt:i(41),str:i(42)}},function(t,e){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e){t.exports=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],h=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11],p=e[12],_=e[13],g=e[14],m=e[15],v=i*a-n*o,b=i*h-r*o,y=i*c-s*o,w=n*h-r*a,E=n*c-s*a,x=r*c-s*h,T=u*_-l*p,P=u*g-f*p,S=u*m-d*p,A=l*g-f*_,R=l*m-d*_,M=f*m-d*g,D=v*M-b*R+y*A+w*S-E*P+x*T;if(!D)return null;return D=1/D,t[0]=(a*M-h*R+c*A)*D,t[1]=(r*R-n*M-s*A)*D,t[2]=(_*x-g*E+m*w)*D,t[3]=(f*E-l*x-d*w)*D,t[4]=(h*S-o*M-c*P)*D,t[5]=(i*M-r*S+s*P)*D,t[6]=(g*y-p*x-m*b)*D,t[7]=(u*x-f*y+d*b)*D,t[8]=(o*R-a*S+c*T)*D,t[9]=(n*S-i*R-s*T)*D,t[10]=(p*E-_*y+m*v)*D,t[11]=(l*y-u*E-d*v)*D,t[12]=(a*P-o*A-h*T)*D,t[13]=(i*A-n*P+r*T)*D,t[14]=(_*b-p*w-g*v)*D,t[15]=(u*w-l*b+f*v)*D,t}},function(t,e){t.exports=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],h=e[6],c=e[7],u=e[8],l=e[9],f=e[10],d=e[11],p=e[12],_=e[13],g=e[14],m=e[15];return t[0]=a*(f*m-d*g)-l*(h*m-c*g)+_*(h*d-c*f),t[1]=-(n*(f*m-d*g)-l*(r*m-s*g)+_*(r*d-s*f)),t[2]=n*(h*m-c*g)-a*(r*m-s*g)+_*(r*c-s*h),t[3]=-(n*(h*d-c*f)-a*(r*d-s*f)+l*(r*c-s*h)),t[4]=-(o*(f*m-d*g)-u*(h*m-c*g)+p*(h*d-c*f)),t[5]=i*(f*m-d*g)-u*(r*m-s*g)+p*(r*d-s*f),t[6]=-(i*(h*m-c*g)-o*(r*m-s*g)+p*(r*c-s*h)),t[7]=i*(h*d-c*f)-o*(r*d-s*f)+u*(r*c-s*h),t[8]=o*(l*m-d*_)-u*(a*m-c*_)+p*(a*d-c*l),t[9]=-(i*(l*m-d*_)-u*(n*m-s*_)+p*(n*d-s*l)),t[10]=i*(a*m-c*_)-o*(n*m-s*_)+p*(n*c-s*a),t[11]=-(i*(a*d-c*l)-o*(n*d-s*l)+u*(n*c-s*a)),t[12]=-(o*(l*g-f*_)-u*(a*g-h*_)+p*(a*f-h*l)),t[13]=i*(l*g-f*_)-u*(n*g-r*_)+p*(n*f-r*l),t[14]=-(i*(a*g-h*_)-o*(n*g-r*_)+p*(n*h-r*a)),t[15]=i*(a*f-h*l)-o*(n*f-r*l)+u*(n*h-r*a),t}},function(t,e){t.exports=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],c=t[8],u=t[9],l=t[10],f=t[11],d=t[12],p=t[13],_=t[14],g=t[15];return(e*o-i*s)*(l*g-f*_)-(e*a-n*s)*(u*g-f*p)+(e*h-r*s)*(u*_-l*p)+(i*a-n*o)*(c*g-f*d)-(i*h-r*o)*(c*_-l*d)+(n*h-r*a)*(c*p-u*d)}},function(t,e){t.exports=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=e[9],d=e[10],p=e[11],_=e[12],g=e[13],m=e[14],v=e[15],b=i[0],y=i[1],w=i[2],E=i[3];return t[0]=b*n+y*a+w*l+E*_,t[1]=b*r+y*h+w*f+E*g,t[2]=b*s+y*c+w*d+E*m,t[3]=b*o+y*u+w*p+E*v,b=i[4],y=i[5],w=i[6],E=i[7],t[4]=b*n+y*a+w*l+E*_,t[5]=b*r+y*h+w*f+E*g,t[6]=b*s+y*c+w*d+E*m,t[7]=b*o+y*u+w*p+E*v,b=i[8],y=i[9],w=i[10],E=i[11],t[8]=b*n+y*a+w*l+E*_,t[9]=b*r+y*h+w*f+E*g,t[10]=b*s+y*c+w*d+E*m,t[11]=b*o+y*u+w*p+E*v,b=i[12],y=i[13],w=i[14],E=i[15],t[12]=b*n+y*a+w*l+E*_,t[13]=b*r+y*h+w*f+E*g,t[14]=b*s+y*c+w*d+E*m,t[15]=b*o+y*u+w*p+E*v,t}},function(t,e){t.exports=function(t,e,i){var n,r,s,o,a,h,c,u,l,f,d,p,_=i[0],g=i[1],m=i[2];e===t?(t[12]=e[0]*_+e[4]*g+e[8]*m+e[12],t[13]=e[1]*_+e[5]*g+e[9]*m+e[13],t[14]=e[2]*_+e[6]*g+e[10]*m+e[14],t[15]=e[3]*_+e[7]*g+e[11]*m+e[15]):(n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],h=e[5],c=e[6],u=e[7],l=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=h,t[6]=c,t[7]=u,t[8]=l,t[9]=f,t[10]=d,t[11]=p,t[12]=n*_+a*g+l*m+e[12],t[13]=r*_+h*g+f*m+e[13],t[14]=s*_+c*g+d*m+e[14],t[15]=o*_+u*g+p*m+e[15]);return t}},function(t,e){t.exports=function(t,e,i){var n=i[0],r=i[1],s=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e,i,n){var r,s,o,a,h,c,u,l,f,d,p,_,g,m,v,b,y,w,E,x,T,P,S,A,R=n[0],M=n[1],D=n[2],F=Math.sqrt(R*R+M*M+D*D);if(Math.abs(F)<1e-6)return null;R*=F=1/F,M*=F,D*=F,r=Math.sin(i),s=Math.cos(i),o=1-s,a=e[0],h=e[1],c=e[2],u=e[3],l=e[4],f=e[5],d=e[6],p=e[7],_=e[8],g=e[9],m=e[10],v=e[11],b=R*R*o+s,y=M*R*o+D*r,w=D*R*o-M*r,E=R*M*o-D*r,x=M*M*o+s,T=D*M*o+R*r,P=R*D*o+M*r,S=M*D*o-R*r,A=D*D*o+s,t[0]=a*b+l*y+_*w,t[1]=h*b+f*y+g*w,t[2]=c*b+d*y+m*w,t[3]=u*b+p*y+v*w,t[4]=a*E+l*x+_*T,t[5]=h*E+f*x+g*T,t[6]=c*E+d*x+m*T,t[7]=u*E+p*x+v*T,t[8]=a*P+l*S+_*A,t[9]=h*P+f*S+g*A,t[10]=c*P+d*S+m*A,t[11]=u*P+p*S+v*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e){t.exports=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[4],o=e[5],a=e[6],h=e[7],c=e[8],u=e[9],l=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=s*r+c*n,t[5]=o*r+u*n,t[6]=a*r+l*n,t[7]=h*r+f*n,t[8]=c*r-s*n,t[9]=u*r-o*n,t[10]=l*r-a*n,t[11]=f*r-h*n,t}},function(t,e){t.exports=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],h=e[3],c=e[8],u=e[9],l=e[10],f=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=s*r-c*n,t[1]=o*r-u*n,t[2]=a*r-l*n,t[3]=h*r-f*n,t[8]=s*n+c*r,t[9]=o*n+u*r,t[10]=a*n+l*r,t[11]=h*n+f*r,t}},function(t,e){t.exports=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],h=e[3],c=e[4],u=e[5],l=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=s*r+c*n,t[1]=o*r+u*n,t[2]=a*r+l*n,t[3]=h*r+f*n,t[4]=c*r-s*n,t[5]=u*r-o*n,t[6]=l*r-a*n,t[7]=f*r-h*n,t}},function(t,e){t.exports=function(t,e,i){var n,r,s,o=i[0],a=i[1],h=i[2],c=Math.sqrt(o*o+a*a+h*h);if(Math.abs(c)<1e-6)return null;return o*=c=1/c,a*=c,h*=c,n=Math.sin(e),r=Math.cos(e),s=1-r,t[0]=o*o*s+r,t[1]=a*o*s+h*n,t[2]=h*o*s-a*n,t[3]=0,t[4]=o*a*s-h*n,t[5]=a*a*s+r,t[6]=h*a*s+o*n,t[7]=0,t[8]=o*h*s+a*n,t[9]=a*h*s-o*n,t[10]=h*h*s+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=n+n,h=r+r,c=s+s,u=n*a,l=n*h,f=n*c,d=r*h,p=r*c,_=s*c,g=o*a,m=o*h,v=o*c;return t[0]=1-(d+_),t[1]=l+v,t[2]=f-m,t[3]=0,t[4]=l-v,t[5]=1-(u+_),t[6]=p+g,t[7]=0,t[8]=f+m,t[9]=p-g,t[10]=1-(u+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,h=r+r,c=i*o,u=n*o,l=n*a,f=r*o,d=r*a,p=r*h,_=s*o,g=s*a,m=s*h;return t[0]=1-l-p,t[1]=u+m,t[2]=f-g,t[3]=0,t[4]=u-m,t[5]=1-c-p,t[6]=d+_,t[7]=0,t[8]=f+g,t[9]=d-_,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,i,n,r,s,o){var a=1/(i-e),h=1/(r-n),c=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(i+e)*a,t[9]=(r+n)*h,t[10]=(o+s)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*c,t[15]=0,t}},function(t,e){t.exports=function(t,e,i,n,r){var s=1/Math.tan(e/2),o=1/(n-r);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*o,t[15]=0,t}},function(t,e){t.exports=function(t,e,i,n){var r=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),h=2/(o+a),c=2/(r+s);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-a)*h*.5,t[9]=(r-s)*c*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t}},function(t,e){t.exports=function(t,e,i,n,r,s,o){var a=1/(e-i),h=1/(n-r),c=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*h,t[14]=(o+s)*c,t[15]=1,t}},function(t,e,i){var n=i(4);t.exports=function(t,e,i,r){var s,o,a,h,c,u,l,f,d,p,_=e[0],g=e[1],m=e[2],v=r[0],b=r[1],y=r[2],w=i[0],E=i[1],x=i[2];if(Math.abs(_-w)<1e-6&&Math.abs(g-E)<1e-6&&Math.abs(m-x)<1e-6)return n(t);l=_-w,f=g-E,d=m-x,p=1/Math.sqrt(l*l+f*f+d*d),s=b*(d*=p)-y*(f*=p),o=y*(l*=p)-v*d,a=v*f-b*l,(p=Math.sqrt(s*s+o*o+a*a))?(s*=p=1/p,o*=p,a*=p):(s=0,o=0,a=0);h=f*a-d*o,c=d*s-l*a,u=l*o-f*s,(p=Math.sqrt(h*h+c*c+u*u))?(h*=p=1/p,c*=p,u*=p):(h=0,c=0,u=0);return t[0]=s,t[1]=h,t[2]=l,t[3]=0,t[4]=o,t[5]=c,t[6]=f,t[7]=0,t[8]=a,t[9]=u,t[10]=d,t[11]=0,t[12]=-(s*_+o*g+a*m),t[13]=-(h*_+c*g+u*m),t[14]=-(l*_+f*g+d*m),t[15]=1,t}},function(t,e){t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},function(t,e,i){"use strict";e.a=class{constructor(){this._objects=[],this._shaderList=[],this._camera=null}clearObjects(){this._objects=[]}addShader(t,e){t.bind(),this._shaderList[e]=t}addObject(t){this._objects.push(t)}setCamera(t){this._camera=t}update(){for(let t=0;t<this._objects.length;t++)this._objects[t].update()}render(){for(let t=0;t<this._objects.length;t++){const e=this._shaderList[this._objects[t].getPrefferedShader()];e.bind(),e.uMvp(this._camera),this._objects[t].render(e)}}}},function(t,e,i){"use strict";const n=i(0);e.a=class{constructor(t,e,i){this.gl=t,this._position=e,this._createRenderBuffer(),this._color=i}update(){}render(t){this.vBuffer.attribPointer(t),this.iBuffer.bind(),t.uColor(this._color),this.iBuffer.draw(this.gl.TRIANGLES,void 0,0)}_createRenderBuffer(){var t=[-1+this._position[0],-1+this._position[1],1+this._position[2],1+this._position[0],-1+this._position[1],1+this._position[2],1+this._position[0],1+this._position[1],1+this._position[2],-1+this._position[0],1+this._position[1],1+this._position[2],-1+this._position[0],-1+this._position[1],-1+this._position[2],-1+this._position[0],1+this._position[1],-1+this._position[2],1+this._position[0],1+this._position[1],-1+this._position[2],1+this._position[0],-1+this._position[1],-1+this._position[2],-1+this._position[0],1+this._position[1],-1+this._position[2],-1+this._position[0],1+this._position[1],1+this._position[2],1+this._position[0],1+this._position[1],1+this._position[2],1+this._position[0],1+this._position[1],-1+this._position[2],-1+this._position[0],-1+this._position[1],-1+this._position[2],1+this._position[0],-1+this._position[1],-1+this._position[2],1+this._position[0],-1+this._position[1],1+this._position[2],-1+this._position[0],-1+this._position[1],1+this._position[2],1+this._position[0],-1+this._position[1],-1+this._position[2],1+this._position[0],1+this._position[1],-1+this._position[2],1+this._position[0],1+this._position[1],1+this._position[2],1+this._position[0],-1+this._position[1],1+this._position[2],-1+this._position[0],-1+this._position[1],-1+this._position[2],-1+this._position[0],-1+this._position[1],1+this._position[2],-1+this._position[0],1+this._position[1],1+this._position[2],-1+this._position[0],1+this._position[1],-1+this._position[2]],e=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];t=new Float32Array(t),e=new Uint16Array(e);var i=new n.ArrayBuffer(this.gl,t,this.gl.STATIC_DRAW),r=new n.IndexBuffer(this.gl,this.gl.UNSIGNED_SHORT,e,this.gl.STATIC_DRAW);i.attrib("aPosition",3,this.gl.FLOAT),this.vBuffer=i,this.iBuffer=r}getPrefferedShader(){return"cube"}}},function(t,e,i){"use strict";e.a=class{constructor(t){this._rotation=[],this._zoom=-25-25*t,this._pointerUpThisFrame=!1;for(let t=0;t<3;t++)this._rotation.push(0);this._setupEventListeners()}getRotation(){return this._rotation}getZoom(){return this._zoom}lastFrameUp(){const t=this._pointerUpThisFrame;return this._pointerUpThisFrame=!1,t}getMousePos(){return{x:this._lastClientx,y:this._lastClienty}}_setupEventListeners(){document.addEventListener("pointermove",this.pointerMove.bind(this)),document.addEventListener("pointerdown",this.pointerDown.bind(this)),document.addEventListener("pointerup",this.pointerUp.bind(this))}pointerUp(t){this._pointerDown=!1,this._pointerUpThisFrame=!0}pointerDown(t){this._pointerDown=!0,this._lastClientx=t.clientX,this._lastClienty=t.clientY}pointerMove(t){this._pointerDown&&(this._rotation[0]+=.01*(t.clientY-this._lastClienty),this._rotation[1]+=.01*(t.clientX-this._lastClientx)),this._lastClientx=t.clientX,this._lastClienty=t.clientY}}},function(t,e,i){"use strict";var n=i(5);e.a=class{constructor(t,e){this._points=e,this._lines=t,this._used=[],this._score=new n.a,this._s=0,this._selected=0}getOrder(){return this._used}_notUsed(t,e){for(let i=0;i<this._used.length;i++)if(this._used[i].one===t&&this._used[i].two==e||this._used[i].two===t&&this._used[i].one==e)return!1;return!0}checkSelect(t,e){const i=this._points.getScreenPositions(e);for(let e=0;e<i.length;e++)if(t.x>i[e][0]-.015&&t.x<i[e][0]+.015&&t.y>i[e][1]-.015&&t.y<i[e][1]+.015&&i[e][3]!==this._selected&&this._notUsed(i[e][3],this._selected)){this._points.setSelected(i[e][3]);const t=this._points.getPoints();this._lines.addToBuffer(t[this._selected],t[i[e][3]]);const n={one:this._selected,two:i[e][3]};this._used.push(n),this._s+=this._score.calculateScore([n],t),this._score.displayScore("points: "+this._s),this._selected=i[e][3]}}}},function(t,e,i){"use strict";var n=i(0),r=i.n(n);e.a=class{constructor(t,e){this._color=e,this.gl=t,this._lineObjects=[],this._lines=[]}update(){}getLineObjects(){return this._lineObjects}render(t){this.vBuffer&&(t.uColor(this._color),this.vBuffer.attribPointer(t),this.gl.drawArrays(this.gl.LINES,0,2*this._lineObjects.length))}addToBuffer(t,e){this._lineObjects.push({start:t,end:e});for(let e=0;e<t.length;e++)this._lines.push(t[e]);for(let t=0;t<e.length;t++)this._lines.push(e[t]);this._lineBuffer=new Float32Array(this._lines),this.vBuffer=new r.a.ArrayBuffer(this.gl,this._lineBuffer,this.gl.DYNAMIC_DRAW),this.vBuffer.attrib("aPosition",3,this.gl.FLOAT)}getPrefferedShader(){return"cube"}}},function(t,e,i){"use strict";var n=i(0),r=i.n(n);e.a=class{constructor(t,e,i,n){if(this.gl=n,this._points=[],this._selected=0,t)this._points=t;else for(let t=0;t<e;t++)this._points.push([i[0]*(2*Math.random()-1)+1,i[1]*(2*Math.random()-1)+1,i[2]*(2*Math.random()-1)+1]);this._createRenderBuffer()}setSelected(t){this._selected=t}flatten(t){const e=[];for(let i=0;i<t.length;i++)for(let n=0;n<t[i].length;n++)e.push(t[i][n]);return e}_createRenderBuffer(){let t=this.flatten(this._points);t=new Float32Array(t),this._verticesBuffer=new r.a.ArrayBuffer(this.gl,t,this.gl.STATIC_DRAW),this._verticesBuffer.attrib("aPosition",3,this.gl.FLOAT)}getPoints(){return this._points}getScreenPositions(t){this._screenPositions=[];const e=[];for(let t=0;t<4;t++)e.push(1);for(let i=0;i<this._points.length;i++){const n=[0,0,0,1];for(let t=0;t<3;t++)e[t]=this._points[i][t];this.transformMat4(n,e,t),n[0]=n[0]*(1/n[3]),n[1]=n[1]*(1/n[3]),n[0]=(n[0]+1)/2,n[1]=(1-n[1])/2,n[3]=i,this._screenPositions.push(n)}return this._screenPositions}transformMat4(t,e,i){let n=e[0],r=e[1],s=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*o,t}update(){}render(t){t.uSelected(this._points[this._selected]||[0,0,0]),this._verticesBuffer.attribPointer(t),this.gl.drawArrays(this.gl.POINTS,0,this._points.length)}getPrefferedShader(){return"points"}}},function(t,e){t.exports="attribute vec3 aPosition;\r\n\r\nuniform mat4 uMvp;\r\n\r\nvarying vec3 vPos;\r\n\r\nvoid main() {\r\n  gl_Position = uMvp * vec4(aPosition, 1.);\r\n  gl_PointSize = 20. * (1. - gl_Position.z / 100.);\r\n  vPos = aPosition;\r\n}\r\n"},function(t,e){t.exports="precision mediump float;\r\n\r\nuniform vec3 uSelected;\r\n\r\nvarying vec3 vPos;\r\n\r\nvoid main() {\r\n  vec2 cxy = 2.0 * gl_PointCoord - 1.0;\r\n  float r = dot(cxy, cxy);\r\n  if (r > 1.0) { discard; }\r\n  gl_FragColor = (vPos == uSelected) ? vec4(0, 1, 0, 1) : vec4(1, 1, 1, 1);\r\n\r\n}\r\n"},function(t,e){t.exports="attribute vec3 aPosition;\r\n\r\nuniform mat4 uMvp;\r\n\r\nvarying float vW;\r\n\r\nvoid main() {\r\n  gl_Position = uMvp * vec4(aPosition, 1.);\r\n  vW = 1. - gl_Position.z / 100.;\r\n}\r\n"},function(t,e){t.exports="precision mediump float;\r\n\r\nuniform vec3 uColor;\r\n\r\nvarying float vW;\r\n\r\nvoid main(void) {\r\n  gl_FragColor = vec4(uColor, 1.) * vW;\r\n  gl_FragColor.w = 1.;\r\n}\r\n"},function(t,e,i){"use strict";e.a=class{constructor(){}startCountDown(t){this._start=(new Date).getTime(),this._seconds=t}getTimeLeft(){return this._seconds+Math.floor((this._start-(new Date).getTime())%6e4/1e3)}}},function(t,e){}]);